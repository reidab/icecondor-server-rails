<% content_for :header do %>
<style>
body {
  margin: 0px;
  padding: 0px;
  font-family: "Lucida Grande", "Lucida Sans Unicode", Verdana, sans-serif;
  overflow: hidden;
}

div.heading {
  position: absolute;
  z-index: 10;
  background: white;
  opacity: 0.75;
  border: 1px solid #555;
  margin-left: 40px;
  margin-top: 10px;
}

.heading a {
  font-size: 26pt;
  font-weight: bold;
  color: black;
  text-decoration: none;
  border-bottom: 2px dotted #333;
  margin-right: 10px;
}

.heading p {
  margin: 10px 10px 17px 10px;
  font-size: 16pt;
}
div.topfive {
  position: relative; 
  float: right; 
  z-index: 10;
  background: white;
  opacity: 0.75;
  border: 1px solid #555;
  margin-right: 30px;
  margin-top: 10px;
}
</style>
<% end %>

<%= render :partial => "layouts/statusbar" %>

<div class="heading">
  <p>
    <a href="http://donpark.org/wiki/icecondor">IceCondor</a> <br/>
  </p>
  <%= flash[:notice] %>
</div>

<div class="topfive">
    <table>
    <% @locations.each do |ary| %>
      <tr>
          <td><%= image_tag "http://labs.google.com/ridefinder/images/mm_20_#{MapHelper::COLORS[ary.last.guid.hash % MapHelper::COLORS.size]}.png" %></td>
          <td><%= link_to ary.last.guid, "locations.html?id=#{ary.last.guid}" %></td>
          <td> <%= time_ago_in_words(ary.first.timestamp) %> </td></tr>
    <% end %>
    </table>
</div>
<%= google_map(@locations, :width => "100%", :height => "500px", 
               :controls => [:zoom],
               :inject_on_load => <<__JS__, :partial => "location") 
function resize_map() { 
  $('google_map').style.height = "" + window.innerHeight + "px";
}
Event.observe(document.onresize ? document : window, "resize", resize_map);
resize_map();
__JS__
%>

